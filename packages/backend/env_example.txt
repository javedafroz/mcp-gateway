# ========================================
# MCP Gateway Environment Configuration
# ========================================
# Copy this file to .env and fill in your actual values

# ========================================
# REQUIRED CONFIGURATION
# ========================================

# OpenAI API Key (REQUIRED)
OPENAI_API_KEY=your_openai_api_key_here

# ========================================
# LLM CONFIGURATION
# ========================================

# OpenAI Model Configuration
OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_ORGANIZATION=your_org_id_here
# OPENAI_API_VERSION=2023-12-01-preview

# Model Parameters
LLM_TEMPERATURE=0.0
# LLM_MAX_TOKENS=4096
LLM_TOP_P=1.0
LLM_FREQUENCY_PENALTY=0.0
LLM_PRESENCE_PENALTY=0.0

# Request Configuration
LLM_REQUEST_TIMEOUT=60.0
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=1.0

# HTTP Client Configuration
HTTP_TIMEOUT=30.0
HTTP_VERIFY_SSL=true
HTTP_MAX_CONNECTIONS=100
HTTP_MAX_KEEPALIVE_CONNECTIONS=20

# Streaming Configuration
LLM_STREAMING=false
LLM_STREAM_CHUNK_SIZE=1024

# Model Fallback Configuration
# LLM_FALLBACK_MODEL=gpt-3.5-turbo
LLM_ENABLE_FALLBACK=true

# ========================================
# LANGCHAIN CONFIGURATION
# ========================================

# LangChain API Configuration
# LANGCHAIN_API_KEY=your_langchain_api_key_here
# LANGCHAIN_ENDPOINT=https://api.langchain.com
# LANGCHAIN_PROJECT=mcp-gateway

# Tracing and Monitoring
LANGCHAIN_TRACING_V2=false
# LANGSMITH_API_KEY=your_langsmith_api_key_here
# LANGSMITH_ENDPOINT=https://api.smith.langchain.com

# Agent Configuration
AGENT_TYPE=react
AGENT_MAX_ITERATIONS=15
# AGENT_MAX_EXECUTION_TIME=300.0
AGENT_EARLY_STOPPING_METHOD=force
AGENT_VERBOSE=false

# Tool Configuration
TOOL_TIMEOUT=30.0
TOOL_MAX_RETRIES=2
TOOL_PARALLEL_EXECUTION=true

# Memory Configuration
MEMORY_TYPE=buffer
MEMORY_MAX_TOKEN_LIMIT=2000
MEMORY_RETURN_MESSAGES=true

# Callback Configuration
CALLBACKS_ENABLED=true
# CALLBACK_HANDLERS=console,file,langsmith

# Chain Configuration
CHAIN_TYPE=stuff
CHAIN_VERBOSE=false

# ========================================
# MCP (MODEL CONTEXT PROTOCOL) CONFIGURATION
# ========================================

# MCP Server Configuration
MCP_SERVER_START_PORT=9000
MCP_SERVER_TIMEOUT=30.0
MCP_SERVER_MAX_RETRIES=3

# Transport Configuration
MCP_DEFAULT_TRANSPORT=stdio
MCP_STDIO_TIMEOUT=30.0
MCP_HTTP_TIMEOUT=30.0

# Tool Generation Configuration
TOOL_GENERATION_TIMEOUT=60.0
TOOL_VALIDATION_ENABLED=true
TOOL_DESCRIPTION_MAX_LENGTH=500

# Session Management
SESSION_TIMEOUT=300.0
SESSION_CLEANUP_INTERVAL=60.0
MAX_CONCURRENT_SESSIONS=100

# ========================================
# GATEWAY SERVER CONFIGURATION
# ========================================

# Server Configuration
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8090
GATEWAY_WORKERS=1

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080,http://127.0.0.1:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
# LOG_FILE=/var/log/mcp-gateway.log

# Security Configuration
API_KEY_HEADER=X-API-Key
REQUIRE_API_KEY=false
# ALLOWED_API_KEYS=key1,key2,key3

# ========================================
# CACHE CONFIGURATION
# ========================================

# Redis Configuration
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# Cache TTL Configuration (in seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_LLM_RESPONSES=3600
CACHE_TTL_TOOL_RESULTS=1800
CACHE_TTL_SESSIONS=86400

# Memory Cache Configuration
MEMORY_CACHE_ENABLED=true
MEMORY_CACHE_MAX_SIZE=1000
MEMORY_CACHE_TTL=300

# ========================================
# ENVIRONMENT CONFIGURATION
# ========================================

# Environment (development, staging, production)
ENVIRONMENT=development

# ========================================
# KEYCLOAK CONFIGURATION (Optional)
# ========================================

# Keycloak Configuration
# KEYCLOAK_SERVER_URL=http://localhost:1010
# KEYCLOAK_REALM=mcp-gateway
# KEYCLOAK_CLIENT_ID=mcp-gateway-backend
# KEYCLOAK_CLIENT_SECRET=your_client_secret

# ========================================
# DATABASE CONFIGURATION (Optional)
# ========================================

# PostgreSQL Configuration
# DATABASE_URL=postgresql://user:password@localhost:5432/mcp_gateway
# DATABASE_POOL_SIZE=10
# DATABASE_MAX_OVERFLOW=20

# ========================================
# MONITORING CONFIGURATION (Optional)
# ========================================

# Prometheus Metrics
# METRICS_ENABLED=false
# METRICS_PORT=9090

# Health Check Configuration
# HEALTH_CHECK_INTERVAL=30
# HEALTH_CHECK_TIMEOUT=10

# ========================================
# DEVELOPMENT CONFIGURATION
# ========================================

# Development Settings (only for development environment)
# DEBUG=false
# RELOAD=true
# AUTO_RELOAD_DIRS=.
# ACCESS_LOG=true

# ========================================
# PRODUCTION CONFIGURATION
# ========================================

# Production Settings (only for production environment)
# SSL_KEYFILE=/path/to/keyfile.pem
# SSL_CERTFILE=/path/to/certfile.pem
# WORKERS=4
# WORKER_CLASS=uvicorn.workers.UvicornWorker
# MAX_REQUESTS=1000
# MAX_REQUESTS_JITTER=100

# ========================================
# ADVANCED CONFIGURATION
# ========================================

# Custom Model Configurations
# CUSTOM_MODEL_CONFIGS={"model1": {"temperature": 0.5}, "model2": {"max_tokens": 2000}}

# Tool-specific Configurations
# TOOL_CONFIGS={"weather_api": {"timeout": 60}, "database_tool": {"pool_size": 5}}

# Feature Flags
# FEATURE_STREAMING=false
# FEATURE_CACHING=true
# FEATURE_RATE_LIMITING=false
# FEATURE_AUTHENTICATION=false

# ========================================
# NOTES
# ========================================
# 
# 1. Lines starting with # are comments and will be ignored
# 2. Boolean values should be: true/false (lowercase)
# 3. Numeric values should not be quoted
# 4. String values with spaces should be quoted
# 5. List values should be comma-separated without spaces around commas
# 6. For production, ensure all sensitive values are properly secured
# 7. Restart the application after changing environment variables
# 8. Use .env.local for local overrides (add to .gitignore)
#
# For more information, see the documentation at:
# https://github.com/your-org/mcp-gateway/blob/main/docs/configuration.md